# é¦–é¡µå›¾æ ‡ç®¡ç†å’Œä¸»é¡µèƒŒæ™¯æ›´æ¢æ¥å£æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜é¦–é¡µå›¾æ ‡ç®¡ç†å’Œä¸»é¡µèƒŒæ™¯æ›´æ¢ç›¸å…³çš„æ¥å£ï¼ŒåŒ…æ‹¬ç®¡ç†ç«¯å’Œå…¬å…±ç«¯çš„æ‰€æœ‰åŠŸèƒ½ã€‚

**åŸºç¡€URL**: `http://localhost:33380`
**è®¤è¯æ–¹å¼**: JWT Bearer Tokenï¼ˆç®¡ç†ç«¯æ¥å£éœ€è¦è®¤è¯ï¼‰
**æ•°æ®æ ¼å¼**: JSON
**APIç‰ˆæœ¬**: v1.0
**æ›´æ–°æ—¥æœŸ**: 2025-11-29

---

## ğŸ¨ é¦–é¡µå›¾æ ‡ç®¡ç†æ¥å£

### 1.1 è·å–é¦–é¡µå›¾æ ‡é…ç½®JSON

**æ¥å£åœ°å€**: `GET /api/public/config/home-icons.json`

**åŠŸèƒ½æè¿°**: è·å–é¦–é¡µå›¾æ ‡é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒJSONæ ¼å¼ç›´æ¥è¿”å›

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/config/home-icons.json
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "title": "é¦–é¡µå›¾æ ‡é…ç½®",
  "description": "ç”¨äºç½‘ç«™é¦–é¡µå±•ç¤ºçš„4ä¸ªç‰¹è‰²å›¾æ ‡",
  "icons": [
    {
      "position": 1,
      "title": "COMPANY",
      "description": "å±•ç¤ºå…¬å¸æˆ–å›¢é˜Ÿç›¸å…³å›¾æ ‡",
      "iconType": "icon-company",
      "defaultIcon": "/images/default-icons/company.png",
      "customIcon": "/uploads/icons/custom-company-icon.png",
      "enabled": true
    },
    {
      "position": 2,
      "title": "TEAM",
      "description": "å±•ç¤ºå›¢é˜Ÿæˆ–äººå‘˜ç›¸å…³å›¾æ ‡",
      "iconType": "icon-team",
      "defaultIcon": "/images/default-icons/team.png",
      "customIcon": "/uploads/icons/custom-team-icon.png",
      "enabled": true
    },
    {
      "position": 3,
      "title": "PRICES",
      "description": "å±•ç¤ºä»·æ ¼æˆ–æˆæœ¬ç›¸å…³å›¾æ ‡",
      "iconType": "icon-prices",
      "defaultIcon": "/images/default-icons/prices.png",
      "customIcon": "/uploads/icons/custom-prices-icon.png",
      "enabled": true
    },
    {
      "position": 4,
      "title": "QUALITY",
      "description": "å±•ç¤ºè´¨é‡æˆ–è®¤è¯ç›¸å…³å›¾æ ‡",
      "iconType": "icon-quality",
      "defaultIcon": "/images/default-icons/quality.png",
      "customIcon": "/uploads/icons/custom-quality-icon.png",
      "enabled": true
    }
  ],
  "displayOptions": {
    "gridColumns": 4,
    "showTitles": true,
    "showDescriptions": false,
    "borderRadius": 8,
    "padding": 16,
    "gap": 24
  },
  "version": "1.0.0",
  "lastUpdated": "2025-11-29"
}
```

### 1.2 è·å–å›¾æ ‡é…ç½®ä¿¡æ¯

**æ¥å£åœ°å€**: `GET /api/public/config/home-icons/info`

**åŠŸèƒ½æè¿°**: è·å–å›¾æ ‡é…ç½®çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬é…ç½®æ–‡ä»¶çŠ¶æ€å’ŒAPIç«¯ç‚¹

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/config/home-icons/info
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "exists": true,
    "lastModified": 1701234567890,
    "configType": "custom",
    "message": "ä½¿ç”¨è‡ªå®šä¹‰å›¾æ ‡é…ç½®",
    "apiEndpoint": "/api/public/config/home-icons.json",
    "timestamp": "2025-11-29T22:00:00"
  }
}
```

### 1.3 å›¾æ ‡é…ç½®æ–‡ä»¶è¯´æ˜

**é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§**:
1. `static/config/home-icons.json` - è‡ªå®šä¹‰é…ç½®
2. `static/config/default-home-icons.json` - é»˜è®¤é…ç½®
3. å†…ç½®åŸºç¡€é…ç½® - æœ€åçš„å¤‡é€‰æ–¹æ¡ˆ

**å›¾æ ‡é…ç½®ç»“æ„**:
```json
{
  "title": "é…ç½®æ ‡é¢˜",
  "description": "é…ç½®æè¿°",
  "icons": [
    {
      "position": 1,              // ä½ç½®é¡ºåº
      "title": "å›¾æ ‡æ ‡é¢˜",         // æ˜¾ç¤ºæ ‡é¢˜
      "description": "å›¾æ ‡æè¿°",   // å›¾æ ‡æè¿°
      "iconType": "å›¾æ ‡ç±»å‹",      // å›¾æ ‡æ ‡è¯†
      "defaultIcon": "é»˜è®¤å›¾æ ‡è·¯å¾„",    // é»˜è®¤å›¾æ ‡
      "customIcon": "è‡ªå®šä¹‰å›¾æ ‡è·¯å¾„",   // è‡ªå®šä¹‰å›¾æ ‡
      "enabled": true             // æ˜¯å¦å¯ç”¨
    }
  ],
  "displayOptions": {            // æ˜¾ç¤ºé€‰é¡¹
    "gridColumns": 4,             // ç½‘æ ¼åˆ—æ•°
    "showTitles": true,           // æ˜¾ç¤ºæ ‡é¢˜
    "showDescriptions": false,    // æ˜¾ç¤ºæè¿°
    "borderRadius": 8,            // åœ†è§’å¤§å°
    "padding": 16,                // å†…è¾¹è·
    "gap": 24                     // é—´è·
  }
}
```

---

## ğŸ–¼ï¸ ä¸»é¡µèƒŒæ™¯ç®¡ç†æ¥å£ï¼ˆç®¡ç†ç«¯ï¼‰

### 2.1 åˆ›å»ºä¸»é¡µèƒŒæ™¯

**æ¥å£åœ°å€**: `POST /api/homepage/background`

**åŠŸèƒ½æè¿°**: åˆ›å»ºæ–°çš„ä¸»é¡µèƒŒæ™¯é…ç½®

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| backgroundType | String | æ˜¯ | èƒŒæ™¯ç±»å‹ï¼šimage/color/gradient | "image" |
| backgroundImageUrl | String | å¦ | èƒŒæ™¯å›¾ç‰‡URL | "https://example.com/bg.jpg" |
| backgroundColor | String | å¦ | èƒŒæ™¯é¢œè‰² | "#ffffff" |
| gradientStartColor | String | å¦ | æ¸å˜èµ·å§‹é¢œè‰² | "#ff0000" |
| gradientEndColor | String | å¦ | æ¸å˜ç»“æŸé¢œè‰² | "#0000ff" |
| gradientDirection | String | å¦ | æ¸å˜æ–¹å‘ï¼šhorizontal/vertical/diagonal | "vertical" |
| backgroundRepeat | String | å¦ | èƒŒæ™¯é‡å¤ï¼šrepeat/repeat-x/repeat-y/no-repeat | "no-repeat" |
| backgroundPosition | String | å¦ | èƒŒæ™¯ä½ç½®ï¼šcenter/top/bottom/left/right | "center" |
| backgroundSize | String | å¦ | èƒŒæ™¯å°ºå¯¸ï¼šcover/contain/auto | "cover" |
| backgroundOpacity | Double | å¦ | èƒŒæ™¯é€æ˜åº¦ï¼š0.0-1.0 | 1.0 |
| isActive | Boolean | å¦ | æ˜¯å¦å¯ç”¨ | true |
| description | String | å¦ | èƒŒæ™¯æè¿° | "é¦–é¡µèƒŒæ™¯å›¾ç‰‡" |

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://localhost:33380/api/homepage/background \
  -H "Authorization: Bearer your-jwt-token" \
  -H "Content-Type: application/json" \
  -d '{
    "backgroundType": "image",
    "backgroundImageUrl": "https://example.com/homepage-bg.jpg",
    "backgroundRepeat": "no-repeat",
    "backgroundPosition": "center",
    "backgroundSize": "cover",
    "backgroundOpacity": 0.8,
    "isActive": true,
    "description": "é¦–é¡µèƒŒæ™¯å›¾ç‰‡"
  }'
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "èƒŒæ™¯åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 1,
    "backgroundType": "image",
    "backgroundImageUrl": "https://example.com/homepage-bg.jpg",
    "backgroundColor": null,
    "gradientStartColor": null,
    "gradientEndColor": null,
    "gradientDirection": "vertical",
    "backgroundRepeat": "no-repeat",
    "backgroundPosition": "center",
    "backgroundSize": "cover",
    "backgroundOpacity": 0.8,
    "isActive": true,
    "description": "é¦–é¡µèƒŒæ™¯å›¾ç‰‡",
    "createTime": "2025-11-29T22:00:00",
    "updateTime": "2025-11-29T22:00:00",
    "cssStyle": "background-image: url('https://example.com/homepage-bg.jpg');background-repeat: no-repeat;background-position: center;background-size: cover;opacity: 0.8;"
  }
}
```

### 2.2 æ›´æ–°ä¸»é¡µèƒŒæ™¯

**æ¥å£åœ°å€**: `PUT /api/homepage/background/{id}`

**åŠŸèƒ½æè¿°**: æ›´æ–°æŒ‡å®šçš„ä¸»é¡µèƒŒæ™¯é…ç½®

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X PUT http://localhost:33380/api/homepage/background/1 \
  -H "Authorization: Bearer your-jwt-token" \
  -H "Content-Type: application/json" \
  -d '{
    "backgroundType": "gradient",
    "gradientStartColor": "#ff6b6b",
    "gradientEndColor": "#4ecdc4",
    "gradientDirection": "diagonal",
    "backgroundOpacity": 0.9,
    "isActive": true,
    "description": "æ¸å˜èƒŒæ™¯"
  }'
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "èƒŒæ™¯æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "backgroundType": "gradient",
    "backgroundImageUrl": null,
    "backgroundColor": null,
    "gradientStartColor": "#ff6b6b",
    "gradientEndColor": "#4ecdc4",
    "gradientDirection": "diagonal",
    "backgroundRepeat": "no-repeat",
    "backgroundPosition": "center",
    "backgroundSize": "cover",
    "backgroundOpacity": 0.9,
    "isActive": true,
    "description": "æ¸å˜èƒŒæ™¯",
    "createTime": "2025-11-29T22:00:00",
    "updateTime": "2025-11-29T22:15:00",
    "cssStyle": "background: linear-gradient(to bottom right, #ff6b6b, #4ecdc4);opacity: 0.9;"
  }
}
```

### 2.3 åˆ é™¤ä¸»é¡µèƒŒæ™¯

**æ¥å£åœ°å€**: `DELETE /api/homepage/background/{id}`

**åŠŸèƒ½æè¿°**: åˆ é™¤æŒ‡å®šçš„ä¸»é¡µèƒŒæ™¯é…ç½®

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X DELETE http://localhost:33380/api/homepage/background/1 \
  -H "Authorization: Bearer your-jwt-token"
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "èƒŒæ™¯åˆ é™¤æˆåŠŸ",
  "data": null
}
```

### 2.4 åˆ‡æ¢èƒŒæ™¯çŠ¶æ€

**æ¥å£åœ°å€**: `PUT /api/homepage/background/{id}/status`

**åŠŸèƒ½æè¿°**: å¯ç”¨æˆ–ç¦ç”¨æŒ‡å®šçš„ä¸»é¡µèƒŒæ™¯

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| isActive | Boolean | æ˜¯ | æ˜¯å¦å¯ç”¨ | true |

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X PUT "http://localhost:33380/api/homepage/background/1/status?isActive=false" \
  -H "Authorization: Bearer your-jwt-token"
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "èƒŒæ™¯çŠ¶æ€åˆ‡æ¢æˆåŠŸ",
  "data": null
}
```

### 2.5 è®¾ç½®æ´»è·ƒèƒŒæ™¯

**æ¥å£åœ°å€**: `PUT /api/homepage/background/{id}/active`

**åŠŸèƒ½æè¿°**: å°†æŒ‡å®šèƒŒæ™¯è®¾ç½®ä¸ºå½“å‰æ´»è·ƒèƒŒæ™¯

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X PUT http://localhost:33380/api/homepage/background/1/active \
  -H "Authorization: Bearer your-jwt-token"
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ´»è·ƒèƒŒæ™¯è®¾ç½®æˆåŠŸ",
  "data": null
}
```

### 2.6 è·å–èƒŒæ™¯è¯¦æƒ…

**æ¥å£åœ°å€**: `GET /api/homepage/background/{id}`

**åŠŸèƒ½æè¿°**: è·å–æŒ‡å®šèƒŒæ™¯çš„è¯¦ç»†ä¿¡æ¯

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/homepage/background/1 \
  -H "Authorization: Bearer your-jwt-token"
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1,
    "backgroundType": "gradient",
    "backgroundImageUrl": null,
    "backgroundColor": null,
    "gradientStartColor": "#ff6b6b",
    "gradientEndColor": "#4ecdc4",
    "gradientDirection": "diagonal",
    "backgroundRepeat": "no-repeat",
    "backgroundPosition": "center",
    "backgroundSize": "cover",
    "backgroundOpacity": 0.9,
    "isActive": true,
    "description": "æ¸å˜èƒŒæ™¯",
    "createTime": "2025-11-29T22:00:00",
    "updateTime": "2025-11-29T22:15:00",
    "cssStyle": "background: linear-gradient(to bottom right, #ff6b6b, #4ecdc4);opacity: 0.9;"
  }
}
```

### 2.7 è·å–æ‰€æœ‰èƒŒæ™¯åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/homepage/background`

**åŠŸèƒ½æè¿°**: è·å–æ‰€æœ‰ä¸»é¡µèƒŒæ™¯åˆ—è¡¨

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/homepage/background \
  -H "Authorization: Bearer your-jwt-token"
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "backgroundType": "gradient",
      "gradientStartColor": "#ff6b6b",
      "gradientEndColor": "#4ecdc4",
      "gradientDirection": "diagonal",
      "backgroundOpacity": 0.9,
      "isActive": true,
      "description": "æ¸å˜èƒŒæ™¯",
      "cssStyle": "background: linear-gradient(to bottom right, #ff6b6b, #4ecdc4);opacity: 0.9;",
      "updateTime": "2025-11-29T22:15:00"
    },
    {
      "id": 2,
      "backgroundType": "image",
      "backgroundImageUrl": "https://example.com/bg2.jpg",
      "backgroundOpacity": 1.0,
      "isActive": false,
      "description": "å›¾ç‰‡èƒŒæ™¯",
      "cssStyle": "background-image: url('https://example.com/bg2.jpg');background-repeat: no-repeat;background-position: center;background-size: cover;",
      "updateTime": "2025-11-29T22:10:00"
    }
  ]
}
```

### 2.8 è·å–å¯ç”¨èƒŒæ™¯åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/homepage/background/active`

**åŠŸèƒ½æè¿°**: è·å–æ‰€æœ‰å¯ç”¨çŠ¶æ€çš„ä¸»é¡µèƒŒæ™¯

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/homepage/background/active \
  -H "Authorization: Bearer your-jwt-token"
```

### 2.9 æ ¹æ®ç±»å‹è·å–èƒŒæ™¯

**æ¥å£åœ°å€**: `GET /api/homepage/background/type/{backgroundType}`

**åŠŸèƒ½æè¿°**: æ ¹æ®èƒŒæ™¯ç±»å‹è·å–èƒŒæ™¯åˆ—è¡¨

**æ˜¯å¦éœ€è¦è®¤è¯**: æ˜¯

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| backgroundType | String | èƒŒæ™¯ç±»å‹ï¼šimage/color/gradient | "gradient" |

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/homepage/background/type/gradient \
  -H "Authorization: Bearer your-jwt-token"
```

---

## ğŸŒ ä¸»é¡µèƒŒæ™¯å…¬å…±æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰

### 3.1 è·å–å½“å‰ä¸»é¡µèƒŒæ™¯

**æ¥å£åœ°å€**: `GET /api/public/homepage/background/current`

**åŠŸèƒ½æè¿°**: è·å–å½“å‰æ­£åœ¨ä½¿ç”¨çš„ä¸»é¡µèƒŒæ™¯

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/homepage/background/current
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1,
    "backgroundType": "gradient",
    "gradientStartColor": "#ff6b6b",
    "gradientEndColor": "#4ecdc4",
    "gradientDirection": "diagonal",
    "backgroundOpacity": 0.9,
    "isActive": true,
    "description": "æ¸å˜èƒŒæ™¯",
    "cssStyle": "background: linear-gradient(to bottom right, #ff6b6b, #4ecdc4);opacity: 0.9;",
    "updateTime": "2025-11-29T22:15:00"
  }
}
```

### 3.2 è·å–å½“å‰èƒŒæ™¯CSSæ ·å¼

**æ¥å£åœ°å€**: `GET /api/public/homepage/background/css`

**åŠŸèƒ½æè¿°**: è·å–å½“å‰ä¸»é¡µèƒŒæ™¯çš„CSSæ ·å¼ä¿¡æ¯ï¼Œæ–¹ä¾¿å‰ç«¯ç›´æ¥åº”ç”¨

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/homepage/background/css
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "cssStyle": "background: linear-gradient(to bottom right, #ff6b6b, #4ecdc4);opacity: 0.9;",
    "backgroundType": "gradient",
    "backgroundImageUrl": null,
    "backgroundColor": null,
    "gradientStartColor": "#ff6b6b",
    "gradientEndColor": "#4ecdc4",
    "gradientDirection": "diagonal",
    "backgroundRepeat": "no-repeat",
    "backgroundPosition": "center",
    "backgroundSize": "cover",
    "backgroundOpacity": 0.9,
    "lastUpdated": "2025-11-29T22:15:00",
    "timestamp": 1701234567890
  }
}
```

### 3.3 è·å–å¯ç”¨èƒŒæ™¯åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/public/homepage/background/active`

**åŠŸèƒ½æè¿°**: è·å–æ‰€æœ‰å¯ç”¨çŠ¶æ€çš„ä¸»é¡µèƒŒæ™¯ï¼ˆå…¬å…±è®¿é—®ï¼‰

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/homepage/background/active
```

### 3.4 æ ¹æ®ç±»å‹è·å–èƒŒæ™¯

**æ¥å£åœ°å€**: `GET /api/public/homepage/background/type/{backgroundType}`

**åŠŸèƒ½æè¿°**: æ ¹æ®èƒŒæ™¯ç±»å‹è·å–å¯ç”¨çš„èƒŒæ™¯åˆ—è¡¨ï¼ˆå…¬å…±è®¿é—®ï¼‰

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/homepage/background/type/image
```

### 3.5 è·å–èƒŒæ™¯é…ç½®ä¿¡æ¯

**æ¥å£åœ°å€**: `GET /api/public/homepage/background/info`

**åŠŸèƒ½æè¿°**: è·å–èƒŒæ™¯ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯å’ŒAPIç«¯ç‚¹

**æ˜¯å¦éœ€è¦è®¤è¯**: å¦

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X GET http://localhost:33380/api/public/homepage/background/info
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "hasCustomBackground": true,
    "currentBackgroundType": "gradient",
    "totalActiveBackgrounds": 2,
    "currentBackgroundId": 1,
    "lastUpdated": "2025-11-29T22:15:00",
    "apiEndpoints": {
      "currentBackground": "/api/public/homepage/background/current",
      "cssStyle": "/api/public/homepage/background/css",
      "activeBackgrounds": "/api/public/homepage/background/active"
    },
    "timestamp": 1701234567890
  }
}
```

---

## ğŸ¨ èƒŒæ™¯ç±»å‹è¯¦è§£

### 1. å›¾ç‰‡èƒŒæ™¯ (image)

**å‚æ•°è¯´æ˜**:
- `backgroundType`: "image"
- `backgroundImageUrl`: å¿…éœ€ï¼Œå›¾ç‰‡URLåœ°å€
- `backgroundRepeat`: èƒŒæ™¯é‡å¤æ–¹å¼ï¼Œé»˜è®¤"no-repeat"
- `backgroundPosition`: èƒŒæ™¯ä½ç½®ï¼Œé»˜è®¤"center"
- `backgroundSize`: èƒŒæ™¯å°ºå¯¸ï¼Œé»˜è®¤"cover"

**CSSç”Ÿæˆç¤ºä¾‹**:
```css
background-image: url('https://example.com/bg.jpg');
background-repeat: no-repeat;
background-position: center;
background-size: cover;
```

### 2. çº¯è‰²èƒŒæ™¯ (color)

**å‚æ•°è¯´æ˜**:
- `backgroundType`: "color"
- `backgroundColor`: å¿…éœ€ï¼Œé¢œè‰²å€¼ï¼ˆæ”¯æŒhexã€rgbã€rgbaç­‰æ ¼å¼ï¼‰

**CSSç”Ÿæˆç¤ºä¾‹**:
```css
background-color: #ffffff;
```

### 3. æ¸å˜èƒŒæ™¯ (gradient)

**å‚æ•°è¯´æ˜**:
- `backgroundType`: "gradient"
- `gradientStartColor`: å¿…éœ€ï¼Œæ¸å˜èµ·å§‹é¢œè‰²
- `gradientEndColor`: å¿…éœ€ï¼Œæ¸å˜ç»“æŸé¢œè‰²
- `gradientDirection`: æ¸å˜æ–¹å‘ï¼Œé»˜è®¤"vertical"

**æ¸å˜æ–¹å‘è¯´æ˜**:
- `horizontal`: æ°´å¹³æ¸å˜ â†’ `to right`
- `vertical`: å‚ç›´æ¸å˜ â†’ `to bottom`
- `diagonal`: å¯¹è§’æ¸å˜ â†’ `to bottom right`

**CSSç”Ÿæˆç¤ºä¾‹**:
```css
background: linear-gradient(to bottom right, #ff6b6b, #4ecdc4);
```

---

## ğŸ“± å‰ç«¯é›†æˆç¤ºä¾‹

### JavaScriptè·å–å¹¶åº”ç”¨èƒŒæ™¯

```javascript
// è·å–å½“å‰èƒŒæ™¯CSSæ ·å¼
async function applyHomePageBackground() {
  try {
    const response = await fetch('/api/public/homepage/background/css');
    const result = await response.json();

    if (result.code === 200 && result.data.cssStyle) {
      // åº”ç”¨èƒŒæ™¯æ ·å¼åˆ°é¡µé¢å…ƒç´ 
      const homePage = document.querySelector('.home-page') || document.body;
      homePage.style.cssText += result.data.cssStyle;

      console.log('èƒŒæ™¯åº”ç”¨æˆåŠŸ:', result.data);
    }
  } catch (error) {
    console.error('è·å–èƒŒæ™¯å¤±è´¥:', error);
  }
}

// è·å–å›¾æ ‡é…ç½®
async function loadHomeIcons() {
  try {
    const response = await fetch('/api/public/config/home-icons.json');
    const iconsConfig = await response.json();

    // æ¸²æŸ“å›¾æ ‡åˆ°é¡µé¢
    renderHomeIcons(iconsConfig.icons);

    console.log('å›¾æ ‡é…ç½®åŠ è½½æˆåŠŸ:', iconsConfig);
  } catch (error) {
    console.error('è·å–å›¾æ ‡é…ç½®å¤±è´¥:', error);
  }
}

// é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
document.addEventListener('DOMContentLoaded', () => {
  applyHomePageBackground();
  loadHomeIcons();
});
```

### Vue.jsç»„ä»¶ç¤ºä¾‹

```vue
<template>
  <div class="home-page" :style="backgroundStyle">
    <div class="icons-container">
      <div
        v-for="icon in iconsConfig.icons"
        :key="icon.position"
        v-if="icon.enabled"
        class="icon-item"
      >
        <img :src="icon.customIcon || icon.defaultIcon" :alt="icon.title">
        <h3>{{ icon.title }}</h3>
        <p v-if="showDescriptions">{{ icon.description }}</p>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      backgroundStyle: '',
      iconsConfig: { icons: [] },
      showDescriptions: false
    }
  },
  async mounted() {
    await this.loadBackground();
    await this.loadIcons();
  },
  methods: {
    async loadBackground() {
      try {
        const response = await fetch('/api/public/homepage/background/css');
        const result = await response.json();

        if (result.code === 200) {
          this.backgroundStyle = result.data.cssStyle;
        }
      } catch (error) {
        console.error('åŠ è½½èƒŒæ™¯å¤±è´¥:', error);
      }
    },
    async loadIcons() {
      try {
        const response = await fetch('/api/public/config/home-icons.json');
        this.iconsConfig = await response.json();
        this.showDescriptions = this.iconsConfig.displayOptions?.showDescriptions || false;
      } catch (error) {
        console.error('åŠ è½½å›¾æ ‡é…ç½®å¤±è´¥:', error);
      }
    }
  }
}
</script>

<style scoped>
.home-page {
  min-height: 100vh;
  transition: all 0.3s ease;
}

.icons-container {
  display: grid;
  grid-template-columns: repeat(v-bind('iconsConfig.displayOptions?.gridColumns || 4'), 1fr);
  gap: v-bind('iconsConfig.displayOptions?.gap + "px" || "24px');
  padding: v-bind('iconsConfig.displayOptions?.padding + "px" || "16px');
}

.icon-item {
  text-align: center;
  border-radius: v-bind('iconsConfig.displayOptions?.borderRadius + "px" || "8px");
}

.icon-item img {
  width: 64px;
  height: 64px;
  object-fit: contain;
}
</style>
```

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

### Postmanæµ‹è¯•é›†åˆ

**ç¯å¢ƒå˜é‡**:
- `baseUrl`: `http://localhost:33380`
- `token`: `your-jwt-token`

**èƒŒæ™¯ç®¡ç†æµ‹è¯•**:

1. **åˆ›å»ºå›¾ç‰‡èƒŒæ™¯**
```http
POST {{baseUrl}}/api/homepage/background
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "backgroundType": "image",
  "backgroundImageUrl": "https://picsum.photos/1920/1080",
  "backgroundSize": "cover",
  "backgroundPosition": "center",
  "backgroundOpacity": 0.8,
  "isActive": true,
  "description": "éšæœºå›¾ç‰‡èƒŒæ™¯"
}
```

2. **åˆ›å»ºæ¸å˜èƒŒæ™¯**
```http
POST {{baseUrl}}/api/homepage/background
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "backgroundType": "gradient",
  "gradientStartColor": "#667eea",
  "gradientEndColor": "#764ba2",
  "gradientDirection": "diagonal",
  "backgroundOpacity": 0.9,
  "isActive": false,
  "description": "ç´«è‰²æ¸å˜èƒŒæ™¯"
}
```

3. **è®¾ç½®æ´»è·ƒèƒŒæ™¯**
```http
PUT {{baseUrl}}/api/homepage/background/1/active
Authorization: Bearer {{token}}
```

**å…¬å…±æ¥å£æµ‹è¯•**:

4. **è·å–å½“å‰èƒŒæ™¯**
```http
GET {{baseUrl}}/api/public/homepage/background/current
```

5. **è·å–èƒŒæ™¯CSS**
```http
GET {{baseUrl}}/api/public/homepage/background/css
```

6. **è·å–å›¾æ ‡é…ç½®**
```http
GET {{baseUrl}}/api/public/config/home-icons.json
```

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### 1. èƒŒæ™¯æ–‡ä»¶ä¸Šä¼ 

èƒŒæ™¯å›¾ç‰‡éœ€è¦é€šè¿‡æ–‡ä»¶ä¸Šä¼ æ¥å£ä¸Šä¼ ï¼š
1. ä½¿ç”¨ `/api/upload/file` æ¥å£ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶
2. è·å–è¿”å›çš„æ–‡ä»¶URL
3. åœ¨åˆ›å»º/æ›´æ–°èƒŒæ™¯æ—¶ä½¿ç”¨è¯¥URL

### 2. å›¾æ ‡é…ç½®æ–‡ä»¶ç®¡ç†

å›¾æ ‡é…ç½®æ–‡ä»¶ä½ç½®ï¼š
- **è‡ªå®šä¹‰é…ç½®**: `src/main/resources/static/config/home-icons.json`
- **é»˜è®¤é…ç½®**: `src/main/resources/static/config/default-home-icons.json`

### 3. CSSæ ·å¼åº”ç”¨

ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„CSSæ ·å¼å­—ç¬¦ä¸²ï¼š
- å›¾ç‰‡èƒŒæ™¯ï¼šç”Ÿæˆ `background-image` ç›¸å…³å±æ€§
- çº¯è‰²èƒŒæ™¯ï¼šç”Ÿæˆ `background-color` å±æ€§
- æ¸å˜èƒŒæ™¯ï¼šç”Ÿæˆ `linear-gradient` å±æ€§

### 4. å“åº”å¼è®¾è®¡

èƒŒæ™¯é…ç½®æ”¯æŒå“åº”å¼å‚æ•°ï¼š
- `backgroundSize`: æ”¯æŒ `cover`ã€`contain` ç­‰å“åº”å¼å€¼
- `backgroundPosition`: æ”¯æŒå„ç§å®šä½ç»„åˆ
- `backgroundOpacity`: æ”¯æŒé€æ˜åº¦è°ƒæ•´

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **èƒŒæ™¯ä¸æ˜¾ç¤º**
   - æ£€æŸ¥å›¾ç‰‡URLæ˜¯å¦å¯è®¿é—®
   - ç¡®è®¤èƒŒæ™¯æ˜¯å¦è®¾ç½®ä¸ºæ´»è·ƒçŠ¶æ€
   - éªŒè¯CSSæ ·å¼æ˜¯å¦æ­£ç¡®ç”Ÿæˆ

2. **å›¾æ ‡é…ç½®ä¸ç”Ÿæ•ˆ**
   - æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤å›¾æ ‡æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ
   - éªŒè¯JSONè¯­æ³•æ˜¯å¦æ­£ç¡®

3. **æƒé™é—®é¢˜**
   - ç®¡ç†ç«¯æ¥å£éœ€è¦JWTè®¤è¯
   - ç¡®è®¤Tokenæœªè¿‡æœŸ
   - æ£€æŸ¥ç”¨æˆ·æƒé™é…ç½®

### è°ƒè¯•å»ºè®®

1. **ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·**æ£€æŸ¥ç½‘ç»œè¯·æ±‚
2. **æŸ¥çœ‹APIå“åº”æ•°æ®**ç¡®è®¤è¿”å›æ ¼å¼
3. **æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯**å®šä½é—®é¢˜
4. **ä½¿ç”¨Postmanæµ‹è¯•æ¥å£**éªŒè¯åŠŸèƒ½

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. èƒŒæ™¯å›¾ç‰‡ä¼˜åŒ–

- å»ºè®®å›¾ç‰‡å¤§å°ï¼š1920x1080 æˆ–æ›´é«˜
- æ”¯æŒæ ¼å¼ï¼šJPGã€PNGã€WebP
- å»ºè®®å‹ç¼©ï¼šæ–‡ä»¶å¤§å°æ§åˆ¶åœ¨2MBä»¥å†…
- ä½¿ç”¨CDNåŠ é€Ÿå›¾ç‰‡åŠ è½½

### 2. æ€§èƒ½ä¼˜åŒ–

- åˆç†è®¾ç½®èƒŒæ™¯é€æ˜åº¦ï¼Œé¿å…å½±å“å†…å®¹å¯è¯»æ€§
- æ¸å˜èƒŒæ™¯æ¯”å›¾ç‰‡èƒŒæ™¯åŠ è½½æ›´å¿«
- è€ƒè™‘ç§»åŠ¨ç«¯é€‚é…ï¼Œä½¿ç”¨ `background-size: cover`

### 3. ç”¨æˆ·ä½“éªŒ

- æä¾›èƒŒæ™¯åˆ‡æ¢é¢„è§ˆåŠŸèƒ½
- é¿å…ä½¿ç”¨è¿‡äºå¤æ‚çš„èƒŒæ™¯å½±å“å†…å®¹é˜…è¯»
- ç¡®ä¿æ–‡å­—ä¸èƒŒæ™¯æœ‰è¶³å¤Ÿçš„å¯¹æ¯”åº¦