# äº§å“ä¸‰çº§åˆ†ç±»é€‰æ‹©å™¨å¯¹æ¥å±•ç¤ºå‰ç«¯APIæ–‡æ¡£

## ğŸ“‹ ç›®å½•
- [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
- [åç«¯APIä¿¡æ¯](#åç«¯apiä¿¡æ¯)
- [ğŸ”‘ è®¤è¯è¯´æ˜](#è®¤è¯è¯´æ˜)
- [ğŸ“‹ å®Œæ•´æ¥å£åˆ—è¡¨](#å®Œæ•´æ¥å£åˆ—è¡¨)
- [äº§å“åˆ†ç±»æ¥å£](#äº§å“åˆ†ç±»æ¥å£)
- [äº§å“ä¿¡æ¯æ¥å£](#äº§å“ä¿¡æ¯æ¥å£)
- [å‰ç«¯å¯¹æ¥ç¤ºä¾‹ä»£ç ](#å‰ç«¯å¯¹æ¥ç¤ºä¾‹ä»£ç )
- [ä¸‰çº§åˆ†ç±»æ•°æ®ç»“æ„è¯´æ˜](#ä¸‰çº§åˆ†ç±»æ•°æ®ç»“æ„è¯´æ˜)
- [å¸¸è§é—®é¢˜FAQ](#å¸¸è§é—®é¢˜faq)

---

## åŠŸèƒ½æ¦‚è¿°

### ä¸‰çº§åˆ†ç±»ç³»ç»Ÿ
æœ¬ç³»ç»Ÿæä¾›å®Œæ•´çš„äº§å“ä¸‰çº§åˆ†ç±»ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒï¼š

- **é¢„è®¾åˆ†ç±»**ï¼šMen's Clothingã€Women's Clothingã€Cowboy Clothingã€Plus Sizeã€All Products
- **è‡ªå®šä¹‰åˆ†ç±»**ï¼šæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è¾“å…¥ä¸‰çº§åˆ†ç±»åç§°
- **åˆ†ç±»è·¯å¾„**ï¼šå®Œæ•´çš„åˆ†ç±»è·¯å¾„å±•ç¤ºï¼Œå¦‚ "Men's Clothing > Tops > T-Shirts"
- **äº§å“å…³è”**ï¼šäº§å“ä¸ä¸‰çº§åˆ†ç±»çš„å®Œæ•´å…³è”ä½“ç³»

### åˆ†ç±»ä½“ç³»ç»“æ„
```
â”œâ”€â”€ Men's Clothing (ç”·è£…)
â”‚   â”œâ”€â”€ Tops (ä¸Šè£…)
â”‚   â”‚   â”œâ”€â”€ T-Shirts (Tæ¤)
â”‚   â”‚   â”œâ”€â”€ Shirts (è¡¬è¡«)
â”‚   â”‚   â””â”€â”€ Hoodies (å«è¡£)
â”‚   â”œâ”€â”€ Bottoms (ä¸‹è£…)
â”‚   â”‚   â”œâ”€â”€ Jeans (ç‰›ä»”è£¤)
â”‚   â”‚   â”œâ”€â”€ Trousers (é•¿è£¤)
â”‚   â”‚   â””â”€â”€ Shorts (çŸ­è£¤)
â”‚   â””â”€â”€ Outerwear (å¤–å¥—)
â”‚       â”œâ”€â”€ Jackets (å¤¹å…‹)
â”‚       â”œâ”€â”€ Coats (å¤§è¡£)
â”‚       â””â”€â”€ Vests (é©¬ç”²)
â”œâ”€â”€ Women's Clothing (å¥³è£…)
â”‚   â”œâ”€â”€ Tops (ä¸Šè£…)
â”‚   â”œâ”€â”€ Bottoms (ä¸‹è£…)
â”‚   â””â”€â”€ Dresses (è¿è¡£è£™)
â”œâ”€â”€ Cowboy Clothing (ç‰›ä»”æœè£…)
â”‚   â”œâ”€â”€ Hats (å¸½å­)
â”‚   â”œâ”€â”€ Shirts (è¡¬è¡«)
â”‚   â”œâ”€â”€ Boots (é´å­)
â”‚   â””â”€â”€ Accessories (é…é¥°)
â”œâ”€â”€ Plus Size (å¤§ç )
â”‚   â”œâ”€â”€ Tops (ä¸Šè£…)
â”‚   â”œâ”€â”€ Bottoms (ä¸‹è£…)
â”‚   â””â”€â”€ Dresses (è¿è¡£è£™)
â””â”€â”€ All Products (æ‰€æœ‰äº§å“)
    â”œâ”€â”€ General (é€šç”¨)
    â””â”€â”€ Custom (è‡ªå®šä¹‰)
```

---

## åç«¯APIä¿¡æ¯

### æœåŠ¡å™¨åœ°å€
```
åŸºç¡€URL: http://39.97.60.191:33380
```

### æ•°æ®åº“è¿æ¥ä¿¡æ¯
```properties
æ•°æ®åº“åœ°å€: 39.97.60.191:33306
æ•°æ®åº“åç§°: manage_system
ç”¨æˆ·å: root
å¯†ç : 123456
```

**âš ï¸ å»ºè®®ï¼šä¼˜å…ˆä½¿ç”¨APIæ¥å£ï¼Œä¸è¦ç›´æ¥è¿æ¥æ•°æ®åº“ï¼**

---

## ğŸ”‘ è®¤è¯è¯´æ˜

### âœ… å¥½æ¶ˆæ¯ï¼šå±•ç¤ºå‰ç«¯æ‰€æœ‰æ¥å£éƒ½ä¸éœ€è¦è®¤è¯ï¼

æœ¬æ–‡æ¡£ä¸­åˆ—å‡ºçš„æ‰€æœ‰æ¥å£éƒ½æ˜¯**å…¬å¼€æ¥å£**ï¼Œå±•ç¤ºå‰ç«¯å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€ï¼š
- âŒ ä¸éœ€è¦ç™»å½•
- âŒ ä¸éœ€è¦Token
- âŒ ä¸éœ€è¦ä»»ä½•è®¤è¯å¤´ï¼ˆAuthorizationï¼‰

---

## ğŸ“‹ å®Œæ•´æ¥å£åˆ—è¡¨

### å¿«é€Ÿç´¢å¼•

```javascript
// ğŸ·ï¸ äº§å“åˆ†ç±»
GET /api/products/categories                    // è·å–æ‰€æœ‰åˆ†ç±»ä¿¡æ¯
GET /api/products/categories/level/{level}     // æŒ‰çº§åˆ«è·å–åˆ†ç±»
GET /api/products/categories/path/{path}       // æ ¹æ®è·¯å¾„è·å–åˆ†ç±»ä¿¡æ¯

// ğŸ“¦ äº§å“ä¿¡æ¯
GET /api/products                             // åˆ†é¡µæŸ¥è¯¢äº§å“
GET /api/products/active                      // ä¸Šæ¶äº§å“åˆ—è¡¨
GET /api/products/featured                    // æ¨èäº§å“åˆ—è¡¨
GET /api/products/{id}                        // äº§å“è¯¦æƒ…
GET /api/products/category/{category}         // æ ¹æ®åˆ†ç±»è·å–äº§å“
GET /api/products/search                      // æœç´¢äº§å“ï¼ˆæ”¯æŒåˆ†ç±»ç­›é€‰ï¼‰

// ğŸ–¼ï¸ æ–‡ä»¶è®¿é—®
GET /api/files/**                             // è®¿é—®æ‰€æœ‰ä¸Šä¼ çš„æ–‡ä»¶
```

---

## äº§å“åˆ†ç±»æ¥å£

### 1. è·å–æ‰€æœ‰ä¸‰çº§åˆ†ç±»ä¿¡æ¯

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products/categories
```

**è¯·æ±‚å‚æ•°ï¼š** æ— 

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "level1": "Men's Clothing",
      "level2": "Tops",
      "level3": "T-Shirts",
      "path": "Men's Clothing > Tops > T-Shirts",
      "customLevel1": false,
      "customLevel2": false,
      "customLevel3": false,
      "productCount": 25,
      "activeProductCount": 20
    },
    {
      "level1": "Women's Clothing",
      "level2": "Dresses",
      "level3": "Custom Design",
      "path": "Women's Clothing > Dresses > Custom Design",
      "customLevel1": false,
      "customLevel2": false,
      "customLevel3": true,
      "productCount": 8,
      "activeProductCount": 6
    },
    {
      "level1": "è‡ªå®šä¹‰å“ç‰Œ",
      "level2": "è‡ªå®šä¹‰ç³»åˆ—",
      "level3": "è‡ªå®šä¹‰äº§å“",
      "path": "è‡ªå®šä¹‰å“ç‰Œ > è‡ªå®šä¹‰ç³»åˆ— > è‡ªå®šä¹‰äº§å“",
      "customLevel1": true,
      "customLevel2": true,
      "customLevel3": true,
      "productCount": 3,
      "activeProductCount": 2
    }
  ],
  "timestamp": 1730628000000
}
```

**å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| level1 | String | ä¸€çº§åˆ†ç±»åç§° |
| level2 | String | äºŒçº§åˆ†ç±»åç§° |
| level3 | String | ä¸‰çº§åˆ†ç±»åç§° |
| path | String | å®Œæ•´åˆ†ç±»è·¯å¾„ï¼ˆç”¨ " > " åˆ†éš”ï¼‰ |
| customLevel1 | Boolean | ä¸€çº§åˆ†ç±»æ˜¯å¦ä¸ºè‡ªå®šä¹‰ |
| customLevel2 | Boolean | äºŒçº§åˆ†ç±»æ˜¯å¦ä¸ºè‡ªå®šä¹‰ |
| customLevel3 | Boolean | ä¸‰çº§åˆ†ç±»æ˜¯å¦ä¸ºè‡ªå®šä¹‰ |
| productCount | Integer | è¯¥åˆ†ç±»ä¸‹çš„äº§å“æ€»æ•° |
| activeProductCount | Integer | è¯¥åˆ†ç±»ä¸‹çš„ä¸Šæ¶äº§å“æ•°é‡ |

---

### 2. æŒ‰çº§åˆ«è·å–åˆ†ç±»

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products/categories/level/{level}
```

**è·¯å¾„å‚æ•°ï¼š**
- `level` - åˆ†ç±»çº§åˆ«ï¼ˆ1, 2, æˆ– 3ï¼‰

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```
GET http://39.97.60.191:33380/api/products/categories/level/1
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "name": "Men's Clothing",
      "isCustom": false,
      "productCount": 125,
      "children": ["Tops", "Bottoms", "Outerwear"]
    },
    {
      "name": "Women's Clothing",
      "isCustom": false,
      "productCount": 89,
      "children": ["Tops", "Bottoms", "Dresses"]
    },
    {
      "name": "è‡ªå®šä¹‰å“ç‰Œ",
      "isCustom": true,
      "productCount": 15,
      "children": ["è‡ªå®šä¹‰ç³»åˆ—1", "è‡ªå®šä¹‰ç³»åˆ—2"]
    }
  ],
  "timestamp": 1730628000000
}
```

---

### 3. æ ¹æ®è·¯å¾„è·å–åˆ†ç±»ä¿¡æ¯

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products/categories/path/{encodedPath}
```

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```
GET http://39.97.60.191:33380/api/products/categories/path/Men's%20Clothing%20%3E%20Tops%20%3E%20T-Shirts
```

**è¯´æ˜ï¼š**
- `encodedPath` ä¸º URL ç¼–ç åçš„åˆ†ç±»è·¯å¾„
- è·¯å¾„åˆ†éš”ç¬¦ä¸º " > "

---

## äº§å“ä¿¡æ¯æ¥å£

### 1. è·å–æŒ‡å®šåˆ†ç±»ä¸‹çš„äº§å“

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products/category/{category}
```

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```
GET http://39.97.60.191:33380/api/products/category/Men's Clothing > Tops > T-Shirts
```

**è·¯å¾„å‚æ•°ï¼š**
- `category` - å®Œæ•´çš„åˆ†ç±»è·¯å¾„

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "productCode": "PROD-001",
      "productName": "ç»å…¸Tæ¤",
      "productNameEn": "Classic T-Shirt",
      "category": "Men's Clothing > Tops > T-Shirts",
      "categoryPath": "Men's Clothing > Tops > T-Shirts",
      "description": "èˆ’é€‚çš„çº¯æ£‰Tæ¤ï¼Œé€‚åˆæ—¥å¸¸ç©¿ç€",
      "descriptionEn": "Comfortable cotton T-shirt for daily wear",
      "price": 199.00,
      "originalPrice": 299.00,
      "mainImage": "http://39.97.60.191:33380/api/files/product/2025/11/03/tshirt1.jpg",
      "images": [
        "http://39.97.60.191:33380/api/files/product/2025/11/03/tshirt1_1.jpg",
        "http://39.97.60.191:33380/api/files/product/2025/11/03/tshirt1_2.jpg"
      ],
      "videos": [
        "http://39.97.60.191:33380/api/files/product/2025/11/03/tshirt1_demo.mp4"
      ],
      "specifications": "æè´¨ï¼š100%çº¯æ£‰<br>å°ºç ï¼šS, M, L, XL, XXL<br>é¢œè‰²ï¼šç™½è‰²ã€é»‘è‰²ã€ç°è‰²",
      "tags": ["çº¯æ£‰", "èˆ’é€‚", "ç»å…¸", "æ—¥å¸¸"],
      "isFeatured": true,
      "stock": 150,
      "status": "ACTIVE",
      "viewCount": 1200,
      "salesCount": 89
    }
  ],
  "timestamp": 1730628000000
}
```

**é‡è¦å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| category | String | äº§å“åˆ†ç±»ï¼ˆå¯èƒ½ä¸ºç®€å•åˆ†ç±»åç§°ï¼‰ |
| categoryPath | String | **å®Œæ•´çš„ä¸‰çº§åˆ†ç±»è·¯å¾„**ï¼ˆæ¨èä½¿ç”¨ï¼‰ |
| specifications | String | äº§å“è§„æ ¼å‚æ•°ï¼ˆHTMLæ ¼å¼ï¼‰ |
| tags | Array | äº§å“æ ‡ç­¾æ•°ç»„ |
| status | String | äº§å“çŠ¶æ€ï¼ˆACTIVE/INACTIVE/DRAFTï¼‰ |

---

### 2. åˆ†é¡µæŸ¥è¯¢äº§å“ï¼ˆæ”¯æŒåˆ†ç±»ç­›é€‰ï¼‰

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products
```

**è¯·æ±‚å‚æ•°ï¼š**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | Integer | å¦ | é¡µç ï¼ˆä»0å¼€å§‹ï¼Œé»˜è®¤0ï¼‰ |
| size | Integer | å¦ | æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼‰ |
| category | String | å¦ | åˆ†ç±»è·¯å¾„ç­›é€‰ |
| status | String | å¦ | äº§å“çŠ¶æ€ç­›é€‰ï¼ˆACTIVE/INACTIVE/DRAFTï¼‰ |

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```
GET http://39.97.60.191:33380/api/products?page=0&size=10&category=Men's Clothing > Tops&status=ACTIVE
```

---

### 3. æœç´¢äº§å“ï¼ˆæ”¯æŒåˆ†ç±»ç­›é€‰ï¼‰

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products/search
```

**è¯·æ±‚å‚æ•°ï¼š**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| keyword | String | æ˜¯ | æœç´¢å…³é”®è¯ |
| category | String | å¦ | åˆ†ç±»è·¯å¾„ç­›é€‰ |

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```
GET http://39.97.60.191:33380/api/products/search?keyword=Tæ¤&category=Men's Clothing
```

---

### 4. è·å–äº§å“è¯¦æƒ…

**æ¥å£åœ°å€ï¼š**
```
GET http://39.97.60.191:33380/api/products/{id}
```

**å“åº”åŒ…å«å®Œæ•´çš„ä¸‰çº§åˆ†ç±»ä¿¡æ¯ï¼š**
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1,
    "productName": "ç»å…¸Tæ¤",
    "category": "Men's Clothing > Tops > T-Shirts",
    "categoryPath": "Men's Clothing > Tops > T-Shirts",
    "categoryLevel1": "Men's Clothing",
    "categoryLevel2": "Tops",
    "categoryLevel3": "T-Shirts",
    "isCustomCategory": false,
    // ... å…¶ä»–äº§å“å­—æ®µ
  }
}
```

---

## å‰ç«¯å¯¹æ¥ç¤ºä¾‹ä»£ç 

### Vue 3 + Composition API å®Œæ•´ç¤ºä¾‹

#### 1. API é…ç½®æ–‡ä»¶ (`src/api/config.js`)
```javascript
import axios from 'axios'

export const API_CONFIG = {
  BASE_URL: 'http://39.97.60.191:33380',
  TIMEOUT: 10000
}

const apiClient = axios.create({
  baseURL: API_CONFIG.BASE_URL,
  timeout: API_CONFIG.TIMEOUT,
  headers: {
    'Content-Type': 'application/json'
  }
})

apiClient.interceptors.response.use(
  response => {
    const { success, data, message } = response.data
    if (success) {
      return data
    } else {
      console.error('API Error:', message)
      return Promise.reject(new Error(message))
    }
  },
  error => {
    console.error('Network Error:', error)
    return Promise.reject(error)
  }
)

export default apiClient
```

#### 2. äº§å“åˆ†ç±»API (`src/api/category.js`)
```javascript
import apiClient from './config'

export const categoryAPI = {
  // è·å–æ‰€æœ‰åˆ†ç±»ä¿¡æ¯
  getAllCategories() {
    return apiClient.get('/api/products/categories')
  },

  // æŒ‰çº§åˆ«è·å–åˆ†ç±»
  getCategoriesByLevel(level) {
    return apiClient.get(`/api/products/categories/level/${level}`)
  },

  // æ ¹æ®è·¯å¾„è·å–åˆ†ç±»ä¿¡æ¯
  getCategoryByPath(path) {
    const encodedPath = encodeURIComponent(path)
    return apiClient.get(`/api/products/categories/path/${encodedPath}`)
  },

  // è·å–æŒ‡å®šåˆ†ç±»ä¸‹çš„äº§å“
  getProductsByCategory(category, page = 0, size = 20) {
    return apiClient.get('/api/products/category/' + encodeURIComponent(category), {
      params: { page, size }
    })
  }
}

export default categoryAPI
```

#### 3. ä¸‰çº§åˆ†ç±»é€‰æ‹©å™¨ç»„ä»¶ (`src/components/CategorySelector.vue`)
```vue
<template>
  <div class="category-selector">
    <div class="selector-level">
      <label>ä¸€çº§åˆ†ç±»ï¼š</label>
      <select v-model="selectedLevel1" @change="onLevel1Change">
        <option value="">è¯·é€‰æ‹©ä¸€çº§åˆ†ç±»</option>
        <option v-for="item in level1Options" :key="item" :value="item">
          {{ item }}
        </option>
        <option value="è‡ªå®šä¹‰">+ è‡ªå®šä¹‰</option>
      </select>
      <input
        v-if="selectedLevel1 === 'è‡ªå®šä¹‰'"
        v-model="customLevel1"
        placeholder="è¾“å…¥è‡ªå®šä¹‰ä¸€çº§åˆ†ç±»"
        class="custom-input"
      />
    </div>

    <div class="selector-level" v-if="showLevel2">
      <label>äºŒçº§åˆ†ç±»ï¼š</label>
      <select v-model="selectedLevel2" @change="onLevel2Change">
        <option value="">è¯·é€‰æ‹©äºŒçº§åˆ†ç±»</option>
        <option v-for="item in level2Options" :key="item" :value="item">
          {{ item }}
        </option>
        <option value="è‡ªå®šä¹‰">+ è‡ªå®šä¹‰</option>
      </select>
      <input
        v-if="selectedLevel2 === 'è‡ªå®šä¹‰'"
        v-model="customLevel2"
        placeholder="è¾“å…¥è‡ªå®šä¹‰äºŒçº§åˆ†ç±»"
        class="custom-input"
      />
    </div>

    <div class="selector-level" v-if="showLevel3">
      <label>ä¸‰çº§åˆ†ç±»ï¼š</label>
      <select v-model="selectedLevel3" @change="onLevel3Change">
        <option value="">è¯·é€‰æ‹©ä¸‰çº§åˆ†ç±»</option>
        <option v-for="item in level3Options" :key="item" :value="item">
          {{ item }}
        </option>
        <option value="è‡ªå®šä¹‰">+ è‡ªå®šä¹‰</option>
      </select>
      <input
        v-if="selectedLevel3 === 'è‡ªå®šä¹‰'"
        v-model="customLevel3"
        placeholder="è¾“å…¥è‡ªå®šä¹‰ä¸‰çº§åˆ†ç±»"
        class="custom-input"
      />
    </div>

    <div class="category-path" v-if="categoryPath">
      <strong>åˆ†ç±»è·¯å¾„ï¼š</strong>{{ categoryPath }}
    </div>
  </div>
</template>

<script setup>
import { ref, computed, watch } from 'vue'
import { categoryAPI } from '@/api/category'

// å“åº”å¼æ•°æ®
const selectedLevel1 = ref('')
const selectedLevel2 = ref('')
const selectedLevel3 = ref('')
const customLevel1 = ref('')
const customLevel2 = ref('')
const customLevel3 = ref('')

// åˆ†ç±»é€‰é¡¹æ•°æ®
const level1Options = ref([])
const level2Options = ref([])
const level3Options = ref([])

// é¢„è®¾åˆ†ç±»æ•°æ®
const presetCategories = {
  'Men\'s Clothing': {
    'Tops': ['T-Shirts', 'Shirts', 'Hoodies'],
    'Bottoms': ['Jeans', 'Trousers', 'Shorts'],
    'Outerwear': ['Jackets', 'Coats', 'Vests']
  },
  'Women\'s Clothing': {
    'Tops': ['Blouses', 'T-Shirts', 'Tank Tops'],
    'Bottoms': ['Skirts', 'Pants', 'Shorts'],
    'Dresses': ['Casual Dresses', 'Formal Dresses', 'Summer Dresses']
  },
  'Cowboy Clothing': {
    'Hats': ['Cowboy Hats', 'Western Hats'],
    'Shirts': ['Western Shirts', 'Plaid Shirts'],
    'Boots': ['Cowboy Boots', 'Western Boots'],
    'Accessories': ['Belts', 'Buckles', 'Bandanas']
  },
  'Plus Size': {
    'Tops': ['Plus Size Blouses', 'Plus Size T-Shirts'],
    'Bottoms': ['Plus Size Pants', 'Plus Size Skirts'],
    'Dresses': ['Plus Size Dresses', 'Plus Size Gowns']
  },
  'All Products': {
    'General': ['General Products', 'Standard Items'],
    'Custom': ['Custom Products', 'Special Items']
  }
}

// è®¡ç®—å±æ€§
const showLevel2 = computed(() => {
  return selectedLevel1.value &&
         (selectedLevel1.value !== 'è‡ªå®šä¹‰' || customLevel1.value)
})

const showLevel3 = computed(() => {
  return showLevel2.value && selectedLevel2.value &&
         (selectedLevel2.value !== 'è‡ªå®šä¹‰' || customLevel2.value)
})

const categoryPath = computed(() => {
  const parts = []
  if (selectedLevel1.value) {
    parts.push(selectedLevel1.value === 'è‡ªå®šä¹‰' ? customLevel1.value : selectedLevel1.value)
  }
  if (selectedLevel2.value) {
    parts.push(selectedLevel2.value === 'è‡ªå®šä¹‰' ? customLevel2.value : selectedLevel2.value)
  }
  if (selectedLevel3.value) {
    parts.push(selectedLevel3.value === 'è‡ªå®šä¹‰' ? customLevel3.value : selectedLevel3.value)
  }
  return parts.join(' > ')
})

// åˆå§‹åŒ–ä¸€çº§åˆ†ç±»
const initLevel1Options = () => {
  level1Options.value = Object.keys(presetCategories)
}

// ä¸€çº§åˆ†ç±»å˜åŒ–å¤„ç†
const onLevel1Change = () => {
  selectedLevel2.value = ''
  selectedLevel3.value = ''
  customLevel2.value = ''
  customLevel3.value = ''

  if (selectedLevel1.value && selectedLevel1.value !== 'è‡ªå®šä¹‰') {
    level2Options.value = Object.keys(presetCategories[selectedLevel1.value] || {})
  } else {
    level2Options.value = []
  }
}

// äºŒçº§åˆ†ç±»å˜åŒ–å¤„ç†
const onLevel2Change = () => {
  selectedLevel3.value = ''
  customLevel3.value = ''

  if (selectedLevel1.value && selectedLevel2.value &&
      selectedLevel1.value !== 'è‡ªå®šä¹‰' && selectedLevel2.value !== 'è‡ªå®šä¹‰') {
    level3Options.value = presetCategories[selectedLevel1.value][selectedLevel2.value] || []
  } else {
    level3Options.value = []
  }
}

// ä¸‰çº§åˆ†ç±»å˜åŒ–å¤„ç†
const onLevel3Change = () => {
  // åˆ†ç±»é€‰æ‹©å®Œæˆï¼Œå¯ä»¥è§¦å‘ç›¸å…³äº‹ä»¶
  if (categoryPath.value) {
    emit('category-change', {
      path: categoryPath.value,
      level1: selectedLevel1.value === 'è‡ªå®šä¹‰' ? customLevel1.value : selectedLevel1.value,
      level2: selectedLevel2.value === 'è‡ªå®šä¹‰' ? customLevel2.value : selectedLevel2.value,
      level3: selectedLevel3.value === 'è‡ªå®šä¹‰' ? customLevel3.value : selectedLevel3.value
    })
  }
}

// å®šä¹‰äº‹ä»¶
const emit = defineEmits(['category-change'])

// æš´éœ²æ–¹æ³•ç»™çˆ¶ç»„ä»¶
defineExpose({
  categoryPath,
  reset: () => {
    selectedLevel1.value = ''
    selectedLevel2.value = ''
    selectedLevel3.value = ''
    customLevel1.value = ''
    customLevel2.value = ''
    customLevel3.value = ''
  }
})

// åˆå§‹åŒ–
initLevel1Options()
</script>

<style scoped>
.category-selector {
  border: 1px solid #ddd;
  padding: 20px;
  border-radius: 8px;
  background-color: #f9f9f9;
}

.selector-level {
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.selector-level label {
  min-width: 80px;
  font-weight: bold;
}

.selector-level select {
  min-width: 150px;
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background-color: white;
}

.custom-input {
  padding: 8px 12px;
  border: 2px solid #28a745;
  border-radius: 4px;
  min-width: 200px;
}

.category-path {
  margin-top: 15px;
  padding: 10px;
  background-color: #e9ecef;
  border-radius: 4px;
  font-family: monospace;
  color: #495057;
}
</style>
```

#### 4. äº§å“åˆ—è¡¨é¡µé¢ (`src/views/ProductList.vue`)
```vue
<template>
  <div class="product-list">
    <h1>äº§å“åˆ—è¡¨</h1>

    <!-- åˆ†ç±»ç­›é€‰ -->
    <div class="filter-section">
      <CategorySelector @category-change="onCategoryChange" ref="categorySelector" />

      <button @click="loadProducts" class="search-btn">
        æœç´¢äº§å“
      </button>
      <button @click="clearFilters" class="clear-btn">
        æ¸…é™¤ç­›é€‰
      </button>
    </div>

    <!-- åŠ è½½çŠ¶æ€ -->
    <div v-if="loading" class="loading">åŠ è½½ä¸­...</div>

    <!-- é”™è¯¯ä¿¡æ¯ -->
    <div v-else-if="error" class="error">{{ error }}</div>

    <!-- äº§å“åˆ—è¡¨ -->
    <div v-else class="products-grid">
      <div v-for="product in products" :key="product.id" class="product-card">
        <img :src="product.mainImage" :alt="product.productName" class="product-image">
        <div class="product-info">
          <h3>{{ product.productName }}</h3>
          <div class="category-tag">{{ product.categoryPath || product.category }}</div>
          <p class="description">{{ product.description }}</p>
          <div class="price-section">
            <span class="current-price">Â¥{{ product.price }}</span>
            <span v-if="product.originalPrice > product.price" class="original-price">
              Â¥{{ product.originalPrice }}
            </span>
          </div>
          <div class="tags">
            <span v-for="tag in product.tags" :key="tag" class="tag">
              {{ tag }}
            </span>
          </div>
          <button @click="viewProductDetail(product.id)" class="detail-btn">
            æŸ¥çœ‹è¯¦æƒ…
          </button>
        </div>
      </div>
    </div>

    <!-- åˆ†é¡µ -->
    <div v-if="totalPages > 1" class="pagination">
      <button
        v-for="page in totalPages"
        :key="page"
        @click="changePage(page - 1)"
        :class="{ active: currentPage === page - 1 }"
      >
        {{ page }}
      </button>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { categoryAPI } from '@/api/category'
import CategorySelector from '@/components/CategorySelector.vue'

const router = useRouter()
const categorySelector = ref()

// å“åº”å¼æ•°æ®
const products = ref([])
const loading = ref(false)
const error = ref(null)
const currentPage = ref(0)
const pageSize = ref(12)
const totalPages = ref(0)
const currentCategory = ref('')

// åŠ è½½äº§å“åˆ—è¡¨
const loadProducts = async () => {
  loading.value = true
  error.value = null

  try {
    let response

    if (currentCategory.value) {
      // æ ¹æ®åˆ†ç±»è·å–äº§å“
      response = await categoryAPI.getProductsByCategory(
        currentCategory.value,
        currentPage.value,
        pageSize.value
      )
    } else {
      // è·å–æ‰€æœ‰ä¸Šæ¶äº§å“
      response = await apiClient.get('/api/products/active')
    }

    products.value = Array.isArray(response) ? response : response.content || []

    // è®¡ç®—åˆ†é¡µä¿¡æ¯
    if (response.totalElements) {
      totalPages.value = Math.ceil(response.totalElements / pageSize.value)
    }

  } catch (err) {
    error.value = err.message || 'åŠ è½½äº§å“å¤±è´¥'
    console.error('Load products error:', err)
  } finally {
    loading.value = false
  }
}

// åˆ†ç±»å˜åŒ–å¤„ç†
const onCategoryChange = (categoryData) => {
  currentCategory.value = categoryData.path
  currentPage.value = 0 // é‡ç½®åˆ°ç¬¬ä¸€é¡µ
  loadProducts()
}

// æ¸…é™¤ç­›é€‰
const clearFilters = () => {
  currentCategory.value = ''
  currentPage.value = 0
  categorySelector.value?.reset()
  loadProducts()
}

// æŸ¥çœ‹äº§å“è¯¦æƒ…
const viewProductDetail = (productId) => {
  router.push(`/product/${productId}`)
}

// åˆ†é¡µå¤„ç†
const changePage = (page) => {
  currentPage.value = page
  loadProducts()
}

// é¡µé¢åŠ è½½æ—¶è·å–äº§å“
onMounted(() => {
  loadProducts()
})
</script>

<style scoped>
.product-list {
  padding: 20px;
}

.filter-section {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 20px;
}

.search-btn {
  background: #007bff;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  margin-left: 10px;
  cursor: pointer;
}

.clear-btn {
  background: #6c757d;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  margin-left: 10px;
  cursor: pointer;
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}

.product-card {
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
  background: white;
  transition: transform 0.2s;
}

.product-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.product-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.product-info {
  padding: 15px;
}

.product-info h3 {
  margin: 0 0 10px 0;
  color: #333;
}

.category-tag {
  background: #e9ecef;
  color: #495057;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  margin-bottom: 10px;
  display: inline-block;
}

.description {
  color: #666;
  font-size: 14px;
  margin: 10px 0;
  line-height: 1.4;
}

.price-section {
  margin: 15px 0;
}

.current-price {
  color: #e74c3c;
  font-size: 20px;
  font-weight: bold;
}

.original-price {
  color: #999;
  text-decoration: line-through;
  margin-left: 10px;
}

.tags {
  margin: 10px 0;
}

.tag {
  background: #f39c12;
  color: white;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 12px;
  margin-right: 5px;
}

.detail-btn {
  background: #28a745;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
}

.pagination {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 30px;
}

.pagination button {
  padding: 8px 12px;
  border: 1px solid #ddd;
  background: white;
  cursor: pointer;
  border-radius: 4px;
}

.pagination button.active {
  background: #007bff;
  color: white;
  border-color: #007bff;
}

.loading {
  text-align: center;
  padding: 50px;
  font-size: 18px;
  color: #666;
}

.error {
  text-align: center;
  padding: 50px;
  color: #e74c3c;
  background: #ffe6e6;
  border-radius: 8px;
  margin: 20px 0;
}
</style>
```

---

## ä¸‰çº§åˆ†ç±»æ•°æ®ç»“æ„è¯´æ˜

### æ•°æ®åº“è®¾è®¡

äº§å“è¡¨ä¸­çš„åˆ†ç±»ç›¸å…³å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `category` | String | äº§å“åˆ†ç±»ï¼ˆå…¼å®¹æ€§å­—æ®µï¼‰ | "ç”·è£…" |
| `categoryPath` | String | **å®Œæ•´çš„ä¸‰çº§åˆ†ç±»è·¯å¾„** | "Men's Clothing > Tops > T-Shirts" |
| `categoryLevel1` | String | ä¸€çº§åˆ†ç±» | "Men's Clothing" |
| `categoryLevel2` | String | äºŒçº§åˆ†ç±» | "Tops" |
| `categoryLevel3` | String | ä¸‰çº§åˆ†ç±» | "T-Shirts" |
| `isCustomCategory` | Boolean | æ˜¯å¦ä¸ºè‡ªå®šä¹‰åˆ†ç±» | false |

### å‰ç«¯æ•°æ®æ ¼å¼

```javascript
// å®Œæ•´çš„åˆ†ç±»å¯¹è±¡
const categoryData = {
  path: "Men's Clothing > Tops > T-Shirts",
  level1: "Men's Clothing",
  level2: "Tops",
  level3: "T-Shirts",
  isCustomLevel1: false,
  isCustomLevel2: false,
  isCustomLevel3: false
}

// è‡ªå®šä¹‰åˆ†ç±»ç¤ºä¾‹
const customCategoryData = {
  path: "è‡ªå®šä¹‰å“ç‰Œ > è‡ªå®šä¹‰ç³»åˆ— > è‡ªå®šä¹‰äº§å“",
  level1: "è‡ªå®šä¹‰å“ç‰Œ",
  level2: "è‡ªå®šä¹‰ç³»åˆ—",
  level3: "è‡ªå®šä¹‰äº§å“",
  isCustomLevel1: true,
  isCustomLevel2: true,
  isCustomLevel3: true
}
```

---

## å¸¸è§é—®é¢˜FAQ

### Q1: å¦‚ä½•å¤„ç†è‡ªå®šä¹‰åˆ†ç±»ï¼Ÿ
**A:** è‡ªå®šä¹‰åˆ†ç±»åœ¨å„çº§é€‰æ‹©å™¨ä¸­é€‰æ‹©"è‡ªå®šä¹‰"é€‰é¡¹åï¼Œä¼šæ˜¾ç¤ºè¾“å…¥æ¡†ã€‚è‡ªå®šä¹‰åˆ†ç±»åœ¨æ•°æ®ä¸­ä¼šæ ‡è®° `isCustomXxx = true`ã€‚

### Q2: åˆ†ç±»è·¯å¾„ä¸­çš„ç‰¹æ®Šå­—ç¬¦å¦‚ä½•å¤„ç†ï¼Ÿ
**A:** åœ¨APIè°ƒç”¨æ—¶ï¼Œåˆ†ç±»è·¯å¾„éœ€è¦ä½¿ç”¨ `encodeURIComponent()` è¿›è¡ŒURLç¼–ç ã€‚

```javascript
const encodedPath = encodeURIComponent("Men's Clothing > Tops > T-Shirts")
// ç»“æœ: "Men's%20Clothing%20%3E%20Tops%20%3E%20T-Shirts"
```

### Q3: äº§å“æœç´¢æ”¯æŒå“ªäº›å­—æ®µï¼Ÿ
**A:** æœç´¢åŠŸèƒ½ä¼šåœ¨ä»¥ä¸‹å­—æ®µä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼š
- äº§å“åç§° (`productName`, `productNameEn`)
- äº§å“æè¿° (`description`, `descriptionEn`)
- äº§å“è§„æ ¼ (`specifications`)
- äº§å“æ ‡ç­¾ (`tags`)
- åˆ†ç±»è·¯å¾„ (`categoryPath`)

### Q4: å¦‚ä½•è·å–åˆ†ç±»ä¸‹çš„äº§å“æ•°é‡ï¼Ÿ
**A:** è°ƒç”¨åˆ†ç±»æ¥å£æ—¶ä¼šè¿”å›æ¯ä¸ªåˆ†ç±»çš„äº§å“ç»Ÿè®¡ä¿¡æ¯ï¼š

```javascript
{
  "path": "Men's Clothing > Tops > T-Shirts",
  "productCount": 25,        // æ€»äº§å“æ•°
  "activeProductCount": 20   // ä¸Šæ¶äº§å“æ•°
}
```

### Q5: å‰ç«¯å¦‚ä½•å±•ç¤ºåˆ†ç±»é¢åŒ…å±‘ï¼Ÿ
**A:** ä½¿ç”¨ `categoryPath` å­—æ®µï¼Œç”¨ " > " åˆ†éš”æ˜¾ç¤ºï¼š

```html
<div class="breadcrumb">
  {{ product.categoryPath || product.category }}
</div>
```

### Q6: å¦‚ä½•å®ç°åˆ†ç±»ç­›é€‰çš„çº§è”æ•ˆæœï¼Ÿ
**A:** ä½¿ç”¨æä¾›çš„ `CategorySelector` ç»„ä»¶ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†çº§è”é€»è¾‘ï¼Œæˆ–è€…ç›‘å¬å„çº§åˆ†ç±»çš„ `change` äº‹ä»¶ï¼š

```javascript
const onLevel1Change = () => {
  // æ ¹æ®ä¸€çº§åˆ†ç±»åŠ è½½äºŒçº§é€‰é¡¹
  loadLevel2Options(selectedLevel1.value)
}
```

### Q7: äº§å“åˆ†é¡µå¦‚ä½•ä¸åˆ†ç±»ç­›é€‰ç»“åˆï¼Ÿ
**A:** åœ¨åˆ†é¡µè¯·æ±‚ä¸­åŒ…å«åˆ†ç±»å‚æ•°ï¼š

```javascript
// è·å–æŒ‡å®šåˆ†ç±»çš„ç¬¬2é¡µäº§å“
const response = await categoryAPI.getProductsByCategory(
  'Men\'s Clothing > Tops',
  2,  // page = 2 (ç¬¬ä¸‰é¡µï¼Œä»0å¼€å§‹)
  20  // size = 20
)
```

---

## æ€»ç»“

**æ ¸å¿ƒä¿¡æ¯ï¼š**

- ğŸŒ åç«¯åœ°å€ï¼š`http://39.97.60.191:33380`
- ğŸ”“ æ— éœ€è®¤è¯ï¼šæ‰€æœ‰æ¥å£ç›´æ¥è®¿é—®
- ğŸ“ æ”¯æŒé¢„è®¾å’Œè‡ªå®šä¹‰ä¸‰çº§åˆ†ç±»
- âœ… å®Œæ•´çš„åˆ†ç±»ç­›é€‰å’Œæœç´¢åŠŸèƒ½
- ğŸ·ï¸ åˆ†ç±»è·¯å¾„æ ¼å¼ï¼š`Level1 > Level2 > Level3`

**å¿«é€Ÿå¼€å§‹ï¼š**
1. å¤åˆ¶APIé…ç½®ä»£ç 
2. åˆ›å»ºåˆ†ç±»APIæ–‡ä»¶
3. ä½¿ç”¨CategorySelectorç»„ä»¶
4. é›†æˆäº§å“åˆ—è¡¨ç­›é€‰
5. å®ç°åˆ†ç±»å¯¼èˆª

**æŠ€æœ¯ç‰¹ç‚¹ï¼š**
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- çº§è”é€‰æ‹©ï¼Œç”¨æˆ·ä½“éªŒå‹å¥½
- æ”¯æŒè‡ªå®šä¹‰åˆ†ç±»ï¼Œçµæ´»æ€§é«˜
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
- å®æ—¶åˆ†ç±»ç­›é€‰å’Œæœç´¢

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»åç«¯å¼€å‘å›¢é˜Ÿã€‚